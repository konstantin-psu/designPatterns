<HTML>
<TITLE>Layered Initialization</TITLE>
<BODY>

<H2>Layered Initialization</H2>

<TABLE BORDER=1>
<TR>
<TD>Origin:</TD>
<TD>Grand 98</TD>
</TR>
<TR>
<TD>Reason:</TD>
<TD>
    The logic to select which of many classes to instantiate is
    common to all the classes.
</TD>
</TR>
<TR>
<TD>Synopsis:</TD>
<TD>
    Encapsulate common and specialized logic to create objects
    when common logic is used to select the class of the objects to create.
</TD>
</TR>
<TR>
<TD>Example:</TD>
<TD>
    Create a database query object whose class depends on the
    specific database been queried.  The creation executes a common
    piece of code that determines which class to instantiate.
</TD>
</TR>
<TR>
<TD>Solution:</TD>
<TD>
  <TABLE BORDER=1 CELLSPACING=0 CELLPADDING=5 WIDTH=100%>
  <TR>
  <TD><B>Service</B></TD>
  <TD>
      The class that manages the creation of the objects that implement
      <EM>ServiceImplIF</em>.
      The only visible class of the pattern.
  </TD>
  <TD>&nbsp;</TD>
  </TR>
  <TR>
  <TD><B>ServiceImplIF</B></TD>
  <TD>
      Interface or abstract class of the objects
       created by <EM>Service</EM>.
  </TD>
  <TD>QueryIF</TD>
  </TR>
  <TR>
  <TD><B>ServiceImpl<SUB>i</SUB></B></TD>
  <TD>Concrete classes implementing <EM>ServiceImplIF</EM>.</TD>
  <TD>OracleQuery<BR>SybaseQuery</TD>
  </TR>
  <TR>
  <TD><B>ServiceImplFactory</B></TD>
  <TD>
      The class that creates the objects that implement
      <EM>ServiceImplIF</em>.
  </TD>
  <TD>&nbsp;</TD>
  </TR>
  </TABLE>
</TD>
</TR>
<TR>
<TD>See also:</TD>
<TD>
    <A HREF=Creational.html>The creational patterns</A>
</TD>
</TR>

</TABLE>

</BODY>
</HTML>
